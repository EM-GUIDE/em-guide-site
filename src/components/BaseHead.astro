---
// Import the global.css file here so that it is included on
// all pages through the use of the <BaseHead /> component.
import "../styles/global.css";
import { SEO } from "astro-seo";

interface Props {
  title: string;
  description: string;
  image?: string;
  seoData: any;
}

const { seoData } = Astro.props;
---

<!-- Global Metadata -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<meta name="generator" content={Astro.generator} />
<link rel="sitemap" href="/sitemap-index.xml" />

{
  seoData && (
    <SEO
      title={seoData.title}
      titleDefault="EM GUIDE"
      titleTemplate="%s â€“ Music Magazine Network"
      description={seoData.description}
      canonical={seoData.canonical ?? ""}
      openGraph={
        seoData.ogTitle && seoData.ogImage?.data?.attributes?.url
          ? {
              basic: {
                title: seoData.ogTitle ?? seoData.title,
                type: "website",
                image: seoData.ogImage?.data?.attributes?.url
                  ? `${import.meta.env.PUBLIC_ASSET_URL}${seoData.ogImage?.data?.attributes?.url}`
                  : "/placeholder_og.png",
                url: seoData.canonical ?? "",
              },
              optional: {
                description: seoData.ogDescription ?? seoData.description,
              },
              image: {
                secureUrl: seoData.ogImage?.data?.attributes?.url
                  ? `${import.meta.env.PUBLIC_ASSET_URL}${seoData.ogImage?.data?.attributes?.url}`
                  : "/placeholder_og.png",
              },
            }
          : undefined
      }
      twitter={{
        card: "summary_large_image",
        title: seoData.twitterTitle ?? seoData.title,
        description: seoData.twitterDescription ?? seoData.description,
        image: seoData.twitterImage?.data
          ? `${import.meta.env.PUBLIC_ASSET_URL}${seoData.twitterImage?.data?.attributes?.url}`
          : "",
      }}
    />
  )
}
