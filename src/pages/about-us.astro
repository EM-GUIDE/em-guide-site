---
import BaseLayout from "../layouts/BaseLayout.astro";
import FeaturedContent from "../components/FeaturedContent.astro";
import type AboutPage from "../interfaces/about-page";
import fetchApi from "../lib/strapi";
import { SEO } from "astro-seo";

const aboutPageData = await fetchApi<AboutPage>({
  endpoint: "about-us-page",
  wrappedByKey: "data",
  query: {
    // @ts-ignore
    populate: [
      "seo",
      "seo.title",
      "seo.description",
      "seo.canonical",
      "seo.ogTitle",
      "seo.ogDescription",
      "seo.ogImage",
      "seo.twitterTitle",
      "seo.twitterDescription",
      "seo.twitterImage",
    ],
  },
});
---

<BaseLayout>
  {
    aboutPageData && aboutPageData.attributes?.seo && (
      <SEO
        title={aboutPageData?.attributes?.seo?.title}
        titleDefault="EM Guide"
        titleTemplate="%s â€” EM Guide"
        description={aboutPageData?.attributes?.seo?.description}
        canonical={aboutPageData?.attributes?.seo?.canonical ?? ""}
        openGraph={{
          basic: {
            title:
              aboutPageData?.attributes?.seo?.ogTitle ??
              aboutPageData?.attributes?.seo?.title,
            type: "website",
            image: aboutPageData?.attributes?.seo?.ogImage?.data?.attributes?.url
              ? `${import.meta.env.PUBLIC_ASSET_URL}${aboutPageData?.attributes?.seo?.ogImage?.data?.attributes?.url}`
              : "",
            url: aboutPageData?.attributes?.seo?.canonical ?? "",
          },
          optional: {
            description:
              aboutPageData?.attributes?.seo?.ogDescription ??
              aboutPageData?.attributes?.seo?.description,
          }
        }}
        twitter={{
          card: "summary_large_image",
          title:
            aboutPageData?.attributes?.seo?.twitterTitle ??
            aboutPageData?.attributes?.seo?.title,
          description:
            aboutPageData?.attributes?.seo?.twitterDescription ??
            aboutPageData?.attributes?.seo?.description,
          image:
            `${import.meta.env.PUBLIC_ASSET_URL}${aboutPageData?.attributes?.seo?.twitterImage?.data?.attributes?.url}` ??
            "",
        }}
      />
    )
  }
  <section class="container px-4 mx-auto mb-8">
    <h2 class="inline-block mb-8 text-2xl font-bold lg:text-4xl font-display">
      Ut viverra sem id egestas porttitor. Vivamus molestie turpis eu eros
      interdum, sed ultrices massa gravida.
    </h2>
    <!-- @ts-expect-error -->
    <FeaturedContent image="https://picsum.photos/seed/picsum/200/300" />
    <div
      class="[&>p]:text-xl [&>p]:mb-4 [&>h3]:mb-4 [&>h3]:font-display [&>h3]:font-bold [&>h3]:text-xl [&>p]:lg:text-xl"
    >
      <p>
        Etiam ornare, lectus sed blandit pulvinar, nisl elit efficitur augue,
        vel aliquam sapien mi et tortor. Vestibulum lacinia pellentesque orci
        non tempor. Sed auctor imperdiet tempus. Fusce a purus nisl. Morbi
        tristique congue luctus. Quisque quis scelerisque tellus, sagittis
        auctor nulla. Aenean luctus posuere odio non placerat. Nullam eleifend
        maximus urna eu vestibulum. Quisque id sollicitudin turpis. Donec
        ullamcorper elementum interdum. Nam sagittis id felis id luctus.
      </p><p>
        Morbi semper urna vitae augue varius, a semper elit interdum. Donec
        auctor risus quam, ut volutpat enim semper ut. Mauris euismod auctor
        arcu, blandit posuere risus commodo ac. Nulla sit amet commodo sapien.
        Nullam urna lacus, vehicula vitae neque sit amet, mattis molestie enim.
        Sed rhoncus sodales porttitor. In laoreet volutpat arcu a accumsan.
        Curabitur vulputate lectus tortor, ac feugiat eros interdum sed. Nulla
        fringilla nunc vel nisi cursus, ut laoreet justo bibendum. Etiam vel
        interdum magna. Curabitur commodo, mauris non eleifend maximus, elit
        augue commodo augue, ac feugiat massa sapien eu turpis
      </p><p>
        Nulla at quam non odio venenatis commodo. Sed rutrum orci vel diam
        eleifend fringilla. Etiam vitae lacinia massa. Vestibulum est libero,
        gravida a ex id, lacinia sollicitudin ex. Phasellus eu imperdiet odio,
        sed semper libero. Curabitur sed ligula lobortis, fermentum justo nec,
        consectetur felis. Pellentesque nulla ante, hendrerit vitae massa non,
        egestas porttitor orci. Morbi dignissim feugiat ornare. Mauris tristique
        sed diam quis facilisis. Quisque nibh mauris, pellentesque vitae lectus
        ac, elementum lacinia arcu. Nam non auctor neque, vitae aliquet sem.
        Interdum et malesuada fames ac ante ipsum primis in faucibus. Aenean
        vitae cursus magna. Aliquam erat volutpat. Sed volutpat, nulla sit amet
        lobortis hendrerit, magna nisl hendrerit quam, ut imperdiet turpis
        mauris a nunc. Mauris eget dignissim erat, vel dictum tellus.
      </p>
      <p></p>
      <div class="flex gap-8 [&>*]:basis-full my-8 flex-wrap lg:flex-nowrap">
        <img
          src="https://picsum.pho	tos/544/346"
          alt=""
          class="inline-block mb-8"
        />
        <div>
          <blockquote class="px-2 py-2.5 bg-accent font-display text-xl mb-4">
            <p>Nulla at quam non odio venenatis</p>
          </blockquote>
          <p class="text-xl">
            commodo. Sed rutrum orci vel diam eleifend fringilla. Etiam vitae
            lacinia massa. Vestibulum est libero, gravida a ex id, lacinia
            sollicitudin ex. Phasellus eu imperdiet odio, sed semper libero.
            Curabitur sed ligula lobortis, fermentum justo nec, consectetur
            felis. Pellentesque nulla ante, hendrerit vitae massa non, egestas
            porttitor orci. Morbi dignissim feugiat ornare. Mauris tristique sed
            diam quis facilisis. Quisque nibh mauris, pellentesque vitae
          </p>
        </div>
      </div>
      <h3>
        Etiam ornare, lectus sed blandit pulvinar, nisl elit efficitur augue,
        vel aliquam sapien mi et tortor?
      </h3><p>
        <strong><em>Vestibulum:</em></strong><em>
          Lacinia pellentesque orci non tempor. Sed auctor imperdiet tempus.
          Fusce a purus nisl. Morbi tristique congue luctus. Quisque quis
          scelerisque tellus, sagittis auctor nulla. Aenean luctus posuere odio
          non placerat. Nullam eleifend maximus urna eu vestibulum. Quisque id
          sollicitudin turpis. Donec ullamcorper elementum interdum. Nam
          sagittis id felis id luctus.
        </em>
      </p><p>
        <strong><em>Morbi semper:</em></strong><em>
          urna vitae augue varius, a semper elit interdum. Donec auctor risus
          quam, ut volutpat enim semper ut.</em
        >
      </p><p>
        Mauris euismod auctor arcu, blandit posuere risus commodo ac. Nulla sit
        amet commodo sapien. Nullam urna lacus, vehicula vitae neque sit amet,
        mattis molestie enim. Sed rhoncus sodales porttitor. In laoreet volutpat
        arcu a accumsan. Curabitur vulputate lectus tortor, ac feugiat eros
        interdum sed. Nulla fringilla nunc vel nisi cursus, ut laoreet justo
        bibendum. Etiam vel interdum magna. Curabitur commodo, mauris non
        eleifend maximus, elit augue commodo augue, ac feugiat massa sapien eu
        turpis.
      </p><h3>
        Nulla at quam non odio venenatis commodo. Sed rutrum orci vel diam
        eleifend fringilla. Etiam vitae lacinia massa?
      </h3><p>
        <strong><em>Vestibulum:</em></strong><em>
          est libero, gravida a ex id, lacinia sollicitudin ex. Phasellus eu
          imperdiet odio, sed semper libero. Curabitur sed ligula lobortis,
          fermentum justo nec, consectetur felis. Pellentesque nulla ante,
          hendrerit vitae massa non, egestas porttitor orci. Morbi dignissim
          feugiat ornare. Mauris tristique sed diam quis facilisis. Quisque nibh
          mauris, pellentesque vitae lectus ac, elementum lacinia arcu. Nam non
          auctor neque, vitae aliquet sem. Interdum et malesuada fames ac ante
          ipsum primis in faucibus. Aenean vitae cursus magna. Aliquam erat
          volutpat. Sed volutpat, nulla sit amet lobortis hendrerit, magna nisl
          hendrerit quam, ut imperdiet turpis mauris a nunc. Mauris eget
          dignissim erat, vel dictum tellus.</em
        >
      </p><p>
        Donec eu purus malesuada, vulputate neque vestibulum, iaculis nunc.
        Aenean gravida nibh nisi, at rhoncus libero rhoncus in. Mauris a gravida
        elit. Vivamus non sollicitudin metus. Proin interdum, neque vel
        sollicitudin sagittis, ipsum leo tincidunt nibh, eget sagittis tellus
        ante tempor leo. Morbi et malesuada felis.
      </p><p></p>
    </div>
  </section>
</BaseLayout>
